name: Frontend Tests + Push

on:
    push:
        branches:
        - master
        paths:
        - consumingfrontend/**
        
jobs:
    ci:
        runs-on: ubuntu-latest
        
        steps:
            - uses: actions/checkout@v1
            - name: Set up JDK 1.8
              uses: actions/setup-java@v1
              with:
                java-version: 1.8
            - name: Rename pomfile to pom.xml   
              working-directory: ./consumingfrontend  
              run: mv pomfile pom.xml
            - name: Remove download logs   
              run: export MAVEN_OPTS="-Dorg.slf4j.simpleLogger.log.org.apache.maven.cli.transfer.Slf4jMavenTransferListener=warn"
            - name: Testing with maven   
              working-directory: ./consumingfrontend  
              run: mvn test